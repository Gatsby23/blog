---
title: GIS 理论与技术 - 作业 1, 6, 7
date: 2015-11-11
keywords:
    - gis
tags:
    - gis
    - homework
...

GIS 理论与技术 - 作业 1, 6, 7
=============================

## 作业 1：第二章-思考题

### Q:

> GIS 的理论有哪些？理论问题有哪些？
> 这些理论如何支撑 GIS 技术的发展？
> 请谈谈你的看法。

### A:

GIS 的科学基础是：

  - 地球系统科学（Earth System Science）理论（系统论、控制论），
  - 地球信息科学理论（Geo-Informatics，Geo Information Science）（信息论），
  - 地理信息科学（Geographic Information Science）（信息论，交叉学科、综合学科）,
  - 地球空间信息科学（Geomatics，Geo Spatial Information Science）（信息论）。

**主要的理论有：**[^format]

[^format]: 格式为 `<big><理论名称></big>[（<简介>）]#<如何支撑 GIS 发展>#`

1. <big>地理系统</big>（某一个特定时间和特定空间的，由两个以上相互区
   别又相互联系、相互制约的地理要素或过程所组成的，并具有特
   定的功能和行为，与外界环境相互作用，并能自动调节和具有自
   组织功能的整体。）#总论，系统观点#
2. <big>分形理论</big>#抽象，几何观点#
3. <big>人地系统理论</big>（可持续发展理论现成主流）#人与系统，GIS 两大实体#
4. <big>整体性与分异理论</big>#总结规律、寻求特例#
5. <big>区位理论</big>（研究区位特征）#地理空间固有特征#
6. <big>地理信息理论</big>（熵、流、场）#用信息科学的量化和分析方法协助 GIS#
7. <big>地理实体电磁波能量信息理论</big>#遥感信息形成的基础理论#
8. <big>地理信息关联性理论</big>（普遍的相互联系、依存、制约）
9. <big>地理空间认知理论</big>（四个过程：感知 -> 表象 -> 记忆 -> 思维）
10. <big>地理学定律</big>
    + 地理学第一定律：空间相关性[^Tobler]
    + 地理学第二定律: 空间异质性[^Goodchild]
    + 地理学第三定律: Everything has it’s own attribute
11. <big>空间关系理论</big>（空间关系：顺序、度量、拓扑）
12. <big>地理空间认知理论</big>（理解地理空间，进行地理分析和决策）
13. <big>地理空间推理理论</big>
14. <big>空间数据不确定性分析理论</big>（影响 GIS 产品的质量）

[^Tobler]: Tobler (1969): "任何事物都是空间相关的，距离近的事物比距离远的事物的空间相关性更大"
[^Goodchild]: Michael Goodchild, 地理现象的分散性

---

## ArcGIS Online 体验分析报告

ArcGIS 是著名的 GIS 软件。ArcGIS Online 是其开发的一个在线地图平台，可以让用户不安装系统软件
便可试用、体验 ArcGIS 诸多地理信息相关服务。

[ArcGIS 在线体验中心](http://tm.arcgisonline.cn/demos.php) 提供多个体验案例。这次我主要看了
[ArcGIS Web API功能特性（2014年开发者大会主题大会）](http://tm.arcgisonline.cn/2014/0613/632.html) 、
[智慧应急一张图](http://tm.arcgisonline.cn/2014/0319/628.html) 和 [影像超市](http://tm.arcgisonline.cn/2014/0217/627.html)。

### ArcGIS Web API 功能特性

作为开发者，我当然最关心用这个 ArcGIS Online 平台可以做什么，所以我首先看了这个案例。
[ArcGIS Web API功能特性（2014年开发者大会主题大会）](http://tm.arcgisonline.cn/2014/0613/632.html)
是 2014 年 Esri 中国开发者大会的精彩回顾，主要讲了 JavaScript 版本 API 中的新特性。

连续颜色值渲染

:   ![](http://tm.arcgisonline.cn/uploadfile/2014/0613/20140613024012716.jpg)

    这个 API 可以大大减少前端工程师的工作量。类似颜色指定中的 gradient 技术。

点密度渲染

:   很多地理信息可以用不同的颜色（深度、色温）表示，还可以用点密度。

    这个 API 可以在区域内填充不同密度的点。

按角度渲染要素

:   可以生动形象地表达地理信息的变化（适用于表示要素的迁移状态）。

实际大小渲染

:   解决了比例尺太小时有些地物标记太大的问题。

时间大小渲染

:   和上个特性类似，但是渲染的对象为线性地物。而且性能十分好：查询和前端渲染速度非常快，几乎感觉不到时间延迟。

风向图

:   用次表明 API 的扩展性和潜力。

毕业设计时就用过 JavaScript 这门语言，深感其语法的灵活和强大。现在网络发展极快，尤其是前端
开发，ArcGIS Online 推出的 JavaScript SDK 即使顺应潮流又是无奈之举。
如果 ArcGIS 不继续创新并引领前端 JavaScript 语言领域的 GIS 开发，可能就会被边缘化。
不过从这个例子可以看到，ArcGIS 作为 GIS 领域的老公司，实力不容小觑。

### 智慧应急一张图

突发事件快速响应系统（简称应急框架）是针对应急行业，基于 ArcGIS 产品搭建的演示系统。
良好的用户体验和功能设计，使得应急框架得到广泛认可。为了使应急框架进一步发挥作用，
基于应急框架开发智慧应急一张图 V3.0 系统。

这个系统支持 ArcGIS for Server 10.1，界面美观，功能实用。
我试用了北京的体验版，据说支持的如下功能：

#. 地图浏览漫游
#. 屏幕取点（获得经纬度）
#. ~~地址搜索~~^[搜“天安门”没有查到结果，搜附近的“王辛庄村”也是没有搜到。]
#. 路径分析
#. 影响分析
#. 范围确定
#. 事件定位
#. 地图书签

体验都不好。可能缺乏维护，会出现 url 调用失败的提示消息。但地图切片的加载和地图图层切换都很流畅。

可能是他们服务器最近出了故障的原因吧。从界面上看，网页应用也很有系统应用的风格，体验流畅。这是它的优点。

### 影像超市

影像超市的名称一下就吸引了我，原本以为是关于电影的一些 GIS 应用，结果发现“影像”就是
“遥感影像”。看了介绍，他们前端用了 JavaScript 做 UI 交互。后端用了 Mosaic Dataset 实现影像数据管理。
查了下，那是 ArcGIS 的一个组件。

这个系统因为不知名原因无定法在线体验。我只能看他们的功能特色感受一下这个系统。

他们的功能特色是：

#. 可以快速创建影像服务，并托管于数据中心
#. 通过影像服务分发大规模影像数据
#. 利用影像服务在线获取按需定制的特色产品
#. 提供原始影像分发-特色产品生产的一体化流程

总体感觉这是一个分发平台，特点是数据量大、按需定制（可能价格会更低吧）。
这个系统的瓶颈应该是数据源的获取和数据保护的实现。只有做好这两点，
数据提供服务才能在压低价格获取利润。

相信 ArcGIS 本身提供的数据保护功能对信息安全和数据安全是有保障的。所以这样一个系统要考虑的
就是后端服务器的成本，和前端 JavaScript 开发中（这里的 Web 服务器可能是一个危险的地方）的安全设置。

通过上述对 ArcGIS Online 的体验，感受到了 ArcGIS 作为传统科技公司的进取心，也感到了现在网站形式的 GIS 系统开发难度之大。

---

## 空间数据共享与互操作 --- FME 的解决方案

<!--
请认真查阅关于 FME 空间数据互操作的资料，撰写一个关于空间数据共享与互操作的研究报告
-->

### 什么是数据共享和互操作？

　　由于缺乏统一的协调和管理，各个系统相互独立、数据格式和数据结构互不相同，生产的数据不能共享，使得
数据获取成本高、维护难度大、数据质量低下且不能对数据质量有效评估。数据共享概念的提出就是为了解决上述问题。
互操作指的是在不同计算机系统、网络、操作系统和应用程序一起共同作用并共享信息的能力。只要实现了互操作，
不同来源的数据便能有效融合，数据共享才能实现。

　　实现数据共享和互操作的解决方案有许多，得益于 GIS 标准化，现在有不少成熟的解决方案，比如 FME。

### FME 是什么？

　　FME 是一款独特的内置支持定位的数据集成平台，能将全部数据和应用程序连接在一起。
支持包含 370 多种不同的格式的转换，含有灵活高级数据转换工具。
不仅如此，FME 的 Workbench 支持定制数据转换方案，还能定制自动化的工作流。
FME 技术确保数据能轻松获取到所需的格式，任务能够更加高效地完成！

### 实际生产中遇到的问题

#### 标准数据的转化

　　比如 KML（全称 Keyhole Markup Language），是一种基于 XML 的格式（或语言），用于存储谷歌地球和谷歌地图使用的数据。
如何处理转化这种标准数据？

　　GDAL（Geospatial Data Abstraction Library）这个在 MIT 许可协议下的开源栅格空间数据转换库提供这方便的支持。
既有 C++ 类库用于编码实现，也有命令行工具如 `ogr2ogr`{.bash} 可以实现多种格式的数据转化，包括 KML，乃至 Esri Shapefile。
但这种命令行工具对普通用户并不友好，难于使用。

#### 专有数据的转化

　　Microsoft Excel 是微软公司的办公软件 Microsoft office 的组件之一，是一款流行的试算表软件。
可以进行各种数据的处理、统计分析和辅助决策操作，广泛地应用于管理、统计财经、金融等众多领域。
就跟 `.docx` 是微软公司设计的开放数据格式一样，`.xlsx` 格式也是透明的（XLSX 数据格式公开，虽然 Office Excel 软件并不免费）。
很多软件都能打开 `.xlsx`，如 Linux 上的办公套件 OpenDucument、LibreOffice，如金山公司的 KingsoftOffice（国内又称为 WPS 办公套件），
但这些软件都针对普通办公，而不是数据转化利用。Pandoc 可以将多种格式转化为 `.docx` 文件，但也不能处理 excel 表格数据。

#### 数据处理的自动化

　　自动化的数据处理通常都在命令行下，通过撰写专门的数据处理脚本实现，比如你懂得 Bash 和
GDAL 的 `ogr2ogr`{.bash} 脚本工具，便可实现批量数据转换。

#### 在线数据处理

　　如果不选用专门的数据转化服务提供商，数据处理若想在浏览器中执行，就需要使用相应地
JavaScript 数据转化库。据我所知，这些库都围绕着 JSON（更精确地说是 GeoJSON）数据的转化。
从 GitHub 我查到一个 Shapefile 转化为 JSON 的工具：[mbostock/shapefile](https://github.com/mbostock/shapefile)，以及
一个为 JSON 提供拓扑功能的 [mbostock/topojson](https://github.com/mbostock/topojson)。

#### 定制数据处理

　　一般大型软件不能这样。

### FME 如何解决这些问题？

#### 标准数据的转化

　　依旧以 KML 为例。在 FME 中 KML 是文件型数据集，即每个 KML 文件就是一个 FME 数据集。
每个文件中包含"Floder ID"的节点即 FME 的要素类。KML 存储基于 WGS84 基准面的经纬度坐标。
这是 KML 唯一支持的坐标系统。FME 中对应的坐标系为 LL84 和 EPSG:4326。如果数据没有指定坐标系，
FME 又不能确定源数据的坐标系时，该转换将被终止。当然，用户可以不理会这些细节，只需要用
FME Desktop 的 FME Universal Viewer，即可方便地打开 KML 文件，只要数据格式无误，数据转化就能顺利进行。

#### 专有数据的转化

　　依旧以 Excel 以例。FME 擅长数据转化和描述，Excel 擅长数据可视化呈现。
FME 的优势在于能够快速地将多源数据组合处理后输出到所需要的格式，充分利用
Excel 良好的数据表达及分析能力。通过 FME Desktop，将原始 CAD 数据或 GIS 数据进行分析处理后，输
出到 Excel 进行展示不再是难题。它甚至提供一个友好的可拖拽界面。

　　除了这些，FME 的格式助手还能转化超过 300 种栅格、矢量、XML 乃至点云等不同种类的数据格式。
借助其 Web Services 这些转化工作。

#### 数据处理的自动化

　　FME 的 Desktop 客户端可以转化各种数据，其服务器端工具则可以
为企业提供数据转化自动化服务。

### FME 还能干什么？

　　FME 的强大不仅在于超过 370 多种数据格式的读写和转化，还支持常见的的应用比如
亚马逊网络服务（Amazon webservices）、Google 地图引擎、MapInfo、MicroSoft Excel、SharePoint。
可以让用户直接把数据和应用连接在一起。不仅如此，它还支持包括 Dropbox、Evernote，Google Drive 在内的
多种网络服务以及 TCP、HTTP、Apple Push 等多种网络协议。
在 FME 国内团队的努力下，现在还支持多家国内公司（南方、超图、浙大万维等）数据的读写和转化，包括：

#. MapGIS 6.X
#. MapGIS HDF
#. SuperMap SDB
#. SuperMap UDB
#. SuperMap SDX+
#. CASS
#. VCT

　　可以直接通过 FME Workbench 中的 FME Store 访问更多转换器。
你可以找到很多免费的和需要许可的自定义转换器，可以帮助你获得更好的效率、获得额外的功能，
并为你的空间数据转换工作流提供一个有利的开端。

* 有了 FME，可以使用开源数据解决方案，可以使用一下开源数据比如 Open Street Maps 提供的道路信息。
* 有了 FME，能方便地集成第三方工具，使用 `systemcaller`{.cpp} 来调用系统中的安装的其他工具和软件，
  比如影像编辑的命令行工具 [ImageMagick](http://www.imagemagick.org)。
* 有了 FME，可以自定义 Workbench，通过组合 workspace runner 和自定义转换器实现快速数据处理。
* 有了 FME，可以自动与智能化的数据处理，比如在实时卫星船舶运行数据采集中，FME 可以将每天采集的
  100,00 多条船舶的 5,000,000 多条卫星和航线数据自动整合起来，无论数据格式是 TCP/IP 数据流还是 NMEA v.4 二进制格式，
  它都能自动解码、转换、存储、使用这些数据。这多多亏了 FME 2014 年加入的 NMEA Automatic Identification System。
  这个模块可以连接 TCP/IP，把 AIS 输出多种格式，并自动化 Workspace WorkspaceRunner 循环，每天重复 5 百万次。
* 有了 FME，还可以与虚拟世界整个，把数据用于游戏开发。比如 Minecraft，这是一款史上最畅销的 PC 游戏，2009年诞生在瑞典，
  2014 年 9 月被微软 25 亿收购。FME 可以将数据导入游戏虚拟环境中，让游戏用户按照自己的方式演化城市数据。

　　总之，FME 是好工具，数据是液体，作为一个好工具 FME 易于集成，能够持续学习，可为用户提供无限的数据共享和互操作功能。
